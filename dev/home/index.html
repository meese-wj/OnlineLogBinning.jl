<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · OnlineLogBinning.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://meese-wj.github.io/OnlineLogBinning.jl/home/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>OnlineLogBinning.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Our-Accumulator-type-hierarchy"><span>Our <code>Accumulator</code> type hierarchy</span></a></li><li><a class="tocitem" href="#How-to-use-OnlineLogBinning"><span>How to use <code>OnlineLogBinning</code></span></a></li><li><a class="tocitem" href="#For-more-information"><span>For more information</span></a></li></ul></li><li><a class="tocitem" href="../">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/meese-wj/OnlineLogBinning.jl/blob/main/docs/src/home.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="OnlineLogBinning"><a class="docs-heading-anchor" href="#OnlineLogBinning">OnlineLogBinning</a><a id="OnlineLogBinning-1"></a><a class="docs-heading-anchor-permalink" href="#OnlineLogBinning" title="Permalink"></a></h1><p><a href="https://meese-wj.github.io/OnlineLogBinning.jl/dev"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt="Dev"/></a> <a href="https://github.com/meese-wj/OnlineLogBinning.jl/actions/workflows/CI.yml?query=branch%3Amain"><img src="https://github.com/meese-wj/OnlineLogBinning.jl/actions/workflows/CI.yml/badge.svg?branch=main" alt="Build Status"/></a></p><p>Julia package to determine effective number of uncorrelated data points in a correlated data stream via an <code>O(log N)</code> online binning algorithm.</p><h2 id="Our-Accumulator-type-hierarchy"><a class="docs-heading-anchor" href="#Our-Accumulator-type-hierarchy">Our <code>Accumulator</code> type hierarchy</a><a id="Our-Accumulator-type-hierarchy-1"></a><a class="docs-heading-anchor-permalink" href="#Our-Accumulator-type-hierarchy" title="Permalink"></a></h2><p>We implement this with three nested <code>Accumulator</code> <code>struct</code>s: the outermost <a href="../#OnlineLogBinning.BinningAccumulator"><code>BinningAccumulator</code></a>, the middle-level <a href="../#OnlineLogBinning.LevelAccumulator"><code>LevelAccumulator</code></a>, and the innermost <a href="../#OnlineLogBinning.PairAccumulator"><code>PairAccumulator</code></a>. The <a href="../#OnlineLogBinning.BinningAccumulator"><code>BinningAccumulator</code></a> stores a <code>Vector</code> of <a href="../#OnlineLogBinning.LevelAccumulator"><code>LevelAccumulator</code></a>, each of which store their own <a href="../#OnlineLogBinning.PairAccumulator"><code>PairAccumulator</code></a>.</p><h3 id="The-[BinningAccumulator](@ref)"><a class="docs-heading-anchor" href="#The-[BinningAccumulator](@ref)">The <a href="../#OnlineLogBinning.BinningAccumulator"><code>BinningAccumulator</code></a></a><a id="The-[BinningAccumulator](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#The-[BinningAccumulator](@ref)" title="Permalink"></a></h3><p>This is the main interface to the binning statistics of a given data stream. The user should basically only mess with this type of object. The binning analysis is performed using it and all important statistical quantities can be found from it.</p><p>A <a href="../#OnlineLogBinning.BinningAccumulator"><code>BinningAccumulator</code></a> is a wrapper around a <code>Vector</code> of <a href="../#OnlineLogBinning.LevelAccumulator"><code>LevelAccumulator</code></a>s. For a given data stream of size <span>$N$</span>, there are <span>${\rm floor}[\log_2(N)]$</span> <em>binning levels</em>. The <a href="../#OnlineLogBinning.BinningAccumulator"><code>BinningAccumulator</code></a> has a <code>length</code> which is one more than the total number of binning levels, where the bottom-most level, <code>level = 0</code>, represents the unbinned data.</p><h3 id="The-[LevelAccumulator](@ref)"><a class="docs-heading-anchor" href="#The-[LevelAccumulator](@ref)">The <a href="../#OnlineLogBinning.LevelAccumulator"><code>LevelAccumulator</code></a></a><a id="The-[LevelAccumulator](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#The-[LevelAccumulator](@ref)" title="Permalink"></a></h3><p>This data structure keeps track of the <em>online</em> <a href="../#Statistics.mean-Tuple{BinningAccumulator}"><code>mean</code></a> and <a href="../#Statistics.var-Tuple{BinningAccumulator}"><code>var</code></a>iance for a given <code>level</code>. These accumulated values are only updated though after a <em>pair</em> from the data stream has been read in through the <a href="../#OnlineLogBinning.LevelAccumulator"><code>LevelAccumulator</code></a>&#39;s <a href="../#OnlineLogBinning.PairAccumulator"><code>PairAccumulator</code></a>.</p><h3 id="The-[PairAccumulator](@ref)"><a class="docs-heading-anchor" href="#The-[PairAccumulator](@ref)">The <a href="../#OnlineLogBinning.PairAccumulator"><code>PairAccumulator</code></a></a><a id="The-[PairAccumulator](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#The-[PairAccumulator](@ref)" title="Permalink"></a></h3><p>This is the outward-facing data structure to a given data stream. Once a <em>pair</em> from the data stream has been read, then the <a href="../#Statistics.mean-Tuple{BinningAccumulator}"><code>mean</code></a> and <a href="../#Statistics.var-Tuple{BinningAccumulator}"><code>var</code></a>iance accumulators are updated for a given level, and then the <a href="../#Statistics.mean-Tuple{BinningAccumulator}"><code>mean</code></a> is propagated to the next binning level, where the process is repeated. This implements the logarithmic binning analysis.</p><h2 id="How-to-use-OnlineLogBinning"><a class="docs-heading-anchor" href="#How-to-use-OnlineLogBinning">How to use <code>OnlineLogBinning</code></a><a id="How-to-use-OnlineLogBinning-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-use-OnlineLogBinning" title="Permalink"></a></h2><p>First, construct an empty [<code>BinningAccumulator</code>] with of <code>T &lt;: Number</code> parametric type. Let&#39;s take the default <code>T = Float64</code> as an example.</p><p>To start, initialize a <a href="../#OnlineLogBinning.BinningAccumulator"><code>BinningAccumulator</code></a><code>{T}</code>:</p><pre><code class="language-julia-repl hljs">julia&gt; bacc = BinningAccumulator()
BinningAccumulator{Float64} with 0 binning levels.
0th Binning Level (unbinned data):
LevelAccumulator{Float64} with online fields:
    level    = 0
    num_bins = 0
    Taccum   = 0.0
    Saccum   = 0.0
    Paccum   = PairAccumulator{Float64}(true, [0.0, 0.0])

    Calculated Level Statistics:
    Current Mean             = NaN
    Current Variance         = -0.0
    Current Std. Deviation   = -0.0
    Current Var. of the Mean = NaN
    Current Std. Error       = NaN</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>We currently only support <code>Float</code> types, i.e. <code>T &lt;: AbstractFloat</code> or <code>T</code> is a <code>Complex{Float#}</code>. The tested types are listed in <a href="../#OnlineLogBinning.OLB_tested_numbers"><code>OLB_tested_numbers</code></a>.</p></div></div><p>Then, <code>push!</code> either a single value or a data stream (sequence of values of <code>itr</code> type) to the <code>BinningAccumulator</code>. The <em>online</em> analysis will be taken care of automatically.</p><p>The easiest usage is by <a href="../#Base.push!-Tuple{BinningAccumulator, Any}"><code>push!</code></a>ing a single value into the <a href="../#OnlineLogBinning.BinningAccumulator"><code>BinningAccumulator</code></a>.</p><pre><code class="language-julia-repl hljs">julia&gt; push!(bacc, 1)
BinningAccumulator{Float64} with 0 binning levels.
0th Binning Level (unbinned data):
LevelAccumulator{Float64} with online fields:
    level    = 0
    num_bins = 0
    Taccum   = 0.0
    Saccum   = 0.0
    Paccum   = PairAccumulator{Float64}(false, [0.0, 1.0])

    Calculated Level Statistics:
    Current Mean             = NaN
    Current Variance         = -0.0
    Current Std. Deviation   = -0.0
    Current Var. of the Mean = NaN
    Current Std. Error       = NaN
</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Values of incorrect type are converted to the correct type internally.</p></div></div><p>Additionally, one can <a href="../#Base.push!-Tuple{BinningAccumulator, Any}"><code>push!</code></a> a data stream into the <a href="../#OnlineLogBinning.BinningAccumulator"><code>BinningAccumulator</code></a>:</p><pre><code class="language-julia-repl hljs">julia&gt; push!(bacc, [1, 2, 3, 4, 3, 2, 1])
BinningAccumulator{Float64} with 3 binning levels.
0th Binning Level (unbinned data):
LevelAccumulator{Float64} with online fields:
    level    = 0
    num_bins = 8
    Taccum   = 17.0
    Saccum   = 8.875
    Paccum   = PairAccumulator{Float64}(true, [0.0, 0.0])

    Calculated Level Statistics:
    Current Mean             = 2.125
    Current Variance         = 1.2678571428571428
    Current Std. Deviation   = 1.1259916264596033
    Current Var. of the Mean = 0.15848214285714285
    Current Std. Error       = 0.3980981573144277

1th Binning Level:
LevelAccumulator{Float64} with online fields:
    level    = 1
    num_bins = 4
    Taccum   = 8.5
    Saccum   = 3.6875
    Paccum   = PairAccumulator{Float64}(true, [0.0, 0.0])

    Calculated Level Statistics:
    Current Mean             = 2.125
    Current Variance         = 1.2291666666666667
    Current Std. Deviation   = 1.1086778913041726
    Current Var. of the Mean = 0.3072916666666667
    Current Std. Error       = 0.5543389456520863

2th Binning Level:
LevelAccumulator{Float64} with online fields:
    level    = 2
    num_bins = 2
    Taccum   = 4.25
    Saccum   = 0.28125
    Paccum   = PairAccumulator{Float64}(true, [0.0, 0.0])

    Calculated Level Statistics:
    Current Mean             = 2.125
    Current Variance         = 0.28125
    Current Std. Deviation   = 0.5303300858899106
    Current Var. of the Mean = 0.140625
    Current Std. Error       = 0.375

3th Binning Level:
LevelAccumulator{Float64} with online fields:
    level    = 3
    num_bins = 0
    Taccum   = 0.0
    Saccum   = 0.0
    Paccum   = PairAccumulator{Float64}(false, [0.0, 2.125])

    Calculated Level Statistics:
    Current Mean             = NaN
    Current Variance         = -0.0
    Current Std. Deviation   = -0.0
    Current Var. of the Mean = NaN
    Current Std. Error       = NaN</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The highest binning level will typically yield useless <code>NaN</code> statistics, but that just reflects the fact that the <code>num_bins</code>, <code>Taccum</code>, and <code>Saccum</code> accumulators are only updated once the <code>level</code>&#39;s <a href="../#OnlineLogBinning.PairAccumulator"><code>PairAccumulator</code></a> is full.</p></div></div><p>One can then calculate the following statistics from the <code>BinningAccumulator</code> at any binning <code>level = lvl</code>:</p><pre><code class="language-julia hljs">mean(bacc::BinningAccumulator; level = lvl)           # arithmetic mean
var(bacc::BinningAccumulator; level = lvl)            # sample variance 
std(bacc::BinningAccumulator; level = lvl)            # sample standard deviation 
var_of_mean(bacc::BinningAccumulator; level = lvl)    # variance of the mean 
std_error(bacc::BinningAccumulator; level = lvl)      # standard error of the mean </code></pre><p>The binning <code>level</code> is optional. By default, the binning <code>level</code> is set to <code>level = 0</code>. This level, accessed by <code>bacc[level = 0]</code>, represents the unbinnned statistics from of the original data stream. The <code>LevelAccumulator</code>s from any binning <code>level</code> can also be extracted using the overloaded <code>[]</code> notation as</p><pre><code class="language-julia-repl hljs">julia&gt; bacc[level = 0]
LevelAccumulator{Float64} with online fields:
    level    = 0
    num_bins = 8
    Taccum   = 17.0
    Saccum   = 8.875
    Paccum   = PairAccumulator{Float64}(true, [0.0, 0.0])

    Calculated Level Statistics:
    Current Mean             = 2.125
    Current Variance         = 1.2678571428571428
    Current Std. Deviation   = 1.1259916264596033
    Current Var. of the Mean = 0.15848214285714285
    Current Std. Error       = 0.3980981573144277

julia&gt; bacc[level = 1]
LevelAccumulator{Float64} with online fields:
    level    = 1
    num_bins = 4
    Taccum   = 8.5
    Saccum   = 3.6875
    Paccum   = PairAccumulator{Float64}(true, [0.0, 0.0])

    Calculated Level Statistics:
    Current Mean             = 2.125
    Current Variance         = 1.2291666666666667
    Current Std. Deviation   = 1.1086778913041726
    Current Var. of the Mean = 0.3072916666666667
    Current Std. Error       = 0.5543389456520863</code></pre><h2 id="For-more-information"><a class="docs-heading-anchor" href="#For-more-information">For more information</a><a id="For-more-information-1"></a><a class="docs-heading-anchor-permalink" href="#For-more-information" title="Permalink"></a></h2><p>See our <a href="https://github.com/meese-wj/OnlineLogBinning.jl">README</a> for details of our algorithm.</p><h3 id="Similar-packages"><a class="docs-heading-anchor" href="#Similar-packages">Similar packages</a><a id="Similar-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Similar-packages" title="Permalink"></a></h3><ul><li><a href="https://github.com/carstenbauer/BinningAnalysis.jl">https://github.com/carstenbauer/BinningAnalysis.jl</a></li><li><a href="https://github.com/joshday/OnlineStats.j">https://github.com/joshday/OnlineStats.j</a></li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="../">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Friday 24 June 2022 22:43">Friday 24 June 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
